!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.echartsBuilder=t():e.echartsBuilder=t()}(self,(()=>(()=>{"use strict";var e={};const t={cacheTimeout:3e5,clearCacheSpace:6e4};const n=t,a=new Map,o=new Map;let r=0;function i(){return r+n.clearCacheSpace>Date.now()?Promise.resolve(!0):(r=Date.now(),new Promise((e=>{for(const[e,t]of a.entries())t.timestamp+n.cacheTimeout<=Date.now()&&a.delete(e);e(!0)})))}async function c(e,t){const n=s(e,t);let a=o.get(n);a||(o.set(n,e()),a=o.get(n));const r=await a;return o.delete(n),r}function s(e,t){return t||(e.name?e:e.toString())}function u(e,t,n){const o={value:t,api:e,timestamp:Date.now()};a.set(s(e,n),o)}async function m(e,t){if(!e)return Promise.resolve(void 0);const o=a.get(s(e,t));if(!n.cacheTimeout||n.cacheTimeout<=0)return await c(e,t);if(!o||o&&o.timestamp&&o.timestamp+n.cacheTimeout<=Date.now()){const n=await c(e,t);return u(e,n,t),i(),n}return i(),Promise.resolve(o.value)}new class{getItemByValue(e,t,n){return Array.isArray(e)?e.find((e=>e[t]===n)):e[t]}async getApiItem(e,t,n,a){const o=await m(e,a);if(o)return this.getItemByValue(o,t,n)}async renderValue(e,t,n,a,o){const r=await this.getApiItem(e,t,n,o);return r?"object"==typeof r?r[a]||"":r||"":""}async renderOptions(e,t,n,a){return(await m(e,a)).map((e=>({label:e[n],value:e[t],key:e[t]})))}};return e=e.default})()));